<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title><%= title %></title>
		<link rel="stylesheet" href="/css/style.css" />
	</head>
	<body>
		<div class="tech-header">
			<div class="header-container">
				<div class="header-left">
<div class="logo-container">
	<div class="logo-techclub" title="Tech Club"></div>
	<div class="logo"></div>
	<div class="logo-dpsaura" title="DPS Aura"></div>
	<div>
		<h1 class="brand-title">Logique</h1>
		<div class="contest-subtitle">GraphCraft Selection Test</div>
	</div>
</div>
					<span style="visibility: hidden" id="remainingCount"><%= remainingCount %></span>
					<span style="visibility: hidden" id="totalCount"><%= totalCount %></span>
				</div>
				<div class="header-right">
					<div class="test-status">
						<span class="status-indicator active"></span>
						<span>Test in progress</span>
					</div>

					<div class="vl"></div>

					<div class="timer-container">
						<span>Time Remaining: <span id="timer">45:00</span></span>
					</div>

					<div id="initialRemainingTime" data-remaining="<%= remainingTime %>" style="display: none"></div>
				</div>
			</div>
		</div>

		<!-- <div class="progress-container">
			<div class="progress-bar" id="progressBar"></div>
		</div> -->

		<div class="server-status">
			<span>Submitting one problem will reveal more!</span>
		</div>

		<% if (totalCount === 0) { %>
		<div class="completion-container">
			<p class="no-images">
				No PNG images found in the problems directory.
			</p>
		</div>
		<% } else { %>
		<div class="image-container" id="imageContainer">
			<% images.forEach(function(file) { %>
			<div class="image-card" data-filename="<%= file %>">
				<a href="/download/<%= encodeURIComponent(file) %>" download>
					<img
						src="/problems/<%= encodeURIComponent(file) %>"
						alt="<%= file %>"
						class="clickable-image"
						title="Click to Download"
					/>
				</a>
				<div class="image-name"><%= file %></div>

				<div class="file-upload-container">
					<input
						type="file"
						class="file-input"
						id="file-<%= file %>"
						accept="*/*"
					/>
					<label for="file-<%= file %>" class="upload-btn"
						>Upload File</label
					>
					<span class="file-name" id="file-name-<%= file %>"
						>No file selected</span
					>
				</div>

				<button class="submit-btn" data-image="<%= file %>" disabled>
					Submit
				</button>
			</div>
			<% }); %>
		</div>
		<% } %>

		<!-- Final Submit Button -->
		<div class="final-submit-container">
			<button id="finalSubmitBtn" class="final-submit-btn">
				Final Submit
			</button>
		</div>

		<!-- Confirmation Modal -->
		<div id="confirmationModal" class="modal">
			<div class="modal-content">
				<h2>Confirm Final Submission</h2>
				<p id="confirmationMessage">Are you sure you want to submit?</p>
				<div class="modal-buttons">
					<button id="cancelBtn" class="modal-btn cancel-btn">
						Cancel
					</button>
					<button id="confirmBtn" class="modal-btn confirm-btn">
						Confirm
					</button>
				</div>
			</div>
		</div>

		<script src="/js/script.js"></script>
	</body>
</html>
