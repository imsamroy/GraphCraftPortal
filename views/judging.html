<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Image Pair Scoring</title>
		<link rel="stylesheet" href="/css/style.css" />
	</head>
	<body>
		<div class="page-wrapper">
			<div class="tech-header">
				<div class="header-container">
					<div class="header-left">
						<div class="brand-section">
							<div class="logo-container">
								<div class="logo"></div>
							</div>
							<div class="brand-info">
								<h1 class="brand-title">Logique</h1>
								<div class="contest-subtitle">GraphCraft Judge Panel</div>
							</div>
						</div>
					</div>
					<div class="header-right">
						<div class="test-status">
							<div class="status-indicator active"></div>
							<span>Judging <%= currentRound %></span>
							<div class="vl"></div>
							<button type="button" id="nextBtn" class="next-btn">
								Next Submission
							</button>
						</div>
					</div>
				</div>
			</div>

		<form id="scoringForm">
			<span id="judgingArrayLength" style="display: none"><%= judgingArrayLength %></span>

			<div class="judging-container">
				<div class="judging-table">
					<% judgingArray.forEach((judgingToken, index) => { %>
					<div style="display: none" id="<%= `image-container-${index}` %>">
						<table>
							<thead>
								<tr>
									<th>Problem Statement</th>
									<th>Team Submission</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td style="width: 50%; text-align: center; vertical-align: middle;">
										<img
											class="judging-image"
											src="/<%= `problems-${currentRound}` %>/<%= judgingToken.question %>"
											alt="Problem Statement"
										/>
									</td>
									<td style="width: 50%; text-align: center; vertical-align: middle;">
										<img
											class="judging-image"
											src="/<%= `judge-view-${currentRound}` %>/<%= judgingToken.teamName %>/<%= judgingToken.solution %>"
											alt="Team Solution"
										/>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<% }); %>
				</div>

				<div class="controls">
					<h3 style="margin-bottom: 20px; color: var(--primary-cyan);">Score Submission</h3>
					<div class="inputs-box">
						<div id="val-alert" class="val-alert" style="display: none">
							Check entered values
						</div>
						<div class="input-hint">Enter Score</div>
						<input
							class="input"
							type="number"
							id="score"
							name="score"
							placeholder="Enter score (0-10)"
							min="0"
							max="10"
							required
						/>
						<div class="input-hint">Confirm Score</div>
						<input
							type="number"
							id="confirmScore"
							name="confirmScore"
							placeholder="Confirm score"
							min="0"
							max="100"
							required
						/>
					</div>
				</div>
			</div>
		</form>

		<form id="resultsForm" method="post" action="/submit-final-scores">
			<input type="hidden" name="results" id="resultsInput" />
		</form>

		</div> <!-- Close page-wrapper -->

		<script src="/js/judging.js"></script>
	</body>
</html>
